<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kevin Valdivia">
<meta name="dcterms.date" content="2022-12-02">

<title>Kevin Valdivia - The Mexican Education System</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Kevin Valdivia - The Mexican Education System">
<meta property="og:description" content="History of Primary and Secondary School Dynamics">
<meta property="og:site_name" content="Kevin Valdivia">
<meta property="og:locale" content="en_US">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Kevin Valdivia</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../projects/the office/office_text_analysis.html">
 <span class="dropdown-text"><strong>Text Analysis:</strong> <em>The Office</em></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/simulation_study/permutation_experiment.html">
 <span class="dropdown-text"><strong>Permutation Analysis</strong>: <em>Room Draw</em></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/peso/peso_doc.html">
 <span class="dropdown-text">The Peso In Crisis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/sql_mini_project/sql_project.html">
 <span class="dropdown-text">Graph Replication With SQL</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../tidytuesday/tidytuesday.html"> 
<span class="menu-text"><strong>Tidytuesday Adventures</strong></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#outcomes-and-statistics" id="toc-outcomes-and-statistics" class="nav-link active" data-scroll-target="#outcomes-and-statistics">Outcomes and Statistics</a></li>
  <li><a href="#snte" id="toc-snte" class="nav-link" data-scroll-target="#snte">SNTE</a>
  <ul class="collapse">
  <li><a href="#snte-history" id="toc-snte-history" class="nav-link" data-scroll-target="#snte-history">SNTE History</a></li>
  <li><a href="#snte-power-dynamics" id="toc-snte-power-dynamics" class="nav-link" data-scroll-target="#snte-power-dynamics">SNTE Power Dynamics</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Mexican Education System</h1>
<p class="subtitle lead">History of Primary and Secondary School Dynamics</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kevin Valdivia </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 2, 2022</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>When my mom entered the first grade in Guadalajara, Mexico, her teacher taught her absolutely nothing. The only thing the teacher did was smoke, read magazines, and gossip with teachers who happened to pass by in the halls. To keep students busy, she would tell them to write letters or numbers repeatedly on a page. She never taught from a book or gave a lecture. When the school year ended, my grandmother thought my mom would have to repeat the year because my mom didn’t know how to read. My grandmother spoke with the second-grade teacher to ask about my mom repeating the first year given she had not learned anything. The teacher reassured her that all the students were in the same place. The second-grade teacher said she would teach first grade the first semester and second grade the second. My mom remembers that she was an excellent teacher who taught them to start reading in about three months. The second-grade teacher taught a group of fifty students two years’ worth of content in one year. This is what led me to investigate the systemic educational disparities in the Mexican education system, specifically in public primary and secondary schools.</p>
<section id="outcomes-and-statistics" class="level1 tabset">
<h1 class="tabset">Outcomes and Statistics</h1>
<p>According to the OECD’s (Organization for Economic Co-operation and Development) figures, compared to member countries’ academic student performance through the results of the OECD-administered PISA (Programme for International Student Assessment) test, Mexico ranks poorly in most educational outcomes and statistics compared to other member states. Among all the OECD countries, Mexico consistently ranks as one of the lowest-performing countries, such that it is easier to list these statistical comparisons by how far away Mexico is from last place. In the 2018 OECD report, it ranks fourth to last among forty countries in reading (2021e), fifth to last in mathematics, (2021d) and fifth to last in science, 2021f).</p>
<p>In spending, a similar story is also provided by the OECD’s report. Mexico ranks third to last in spending per student and seventh to last in percent of GDP spent on public education (OECD, 2021c). While on the other hand, it is the sixth-highest spender in percent GDP spent on private education (OECD, 2021b). This indicates there is rampant inequality in education, as the public schools where poorer individuals attend are one of the worst-funded in the developed world, while private schools where more affluent students attend are the best-funded in the world. However, spending does not always equate to quality of education. This can be seen with Costa Rica, which spends more than double per student ($15,876 to Mexico’s $7,341) (OECD, 2021a). It places behind Mexico in mathematics and science, and only one place ahead in reading (OECD, 2021d&amp;e). Although the amount spent is important, how it is spent is more influential in the quality of education.</p>
<p>With a questionable education system and difficult job market, the so-called ninis (those who neither are in school or working) are high in quantity in Mexico. The 2021 OECD report shows Mexico above average in percent of ninis, with fifteen to nineteen year old men being at 10% and women of the same age being at around 19% (OECD, 2021h). All of these indicators have pointed to an education system that is failing the Mexican people.</p>
</section>
<section id="snte" class="level1">
<h1>SNTE</h1>
<p>This section will focus on how teacher unions, namely the SNTE (Sindicato Nacional de Trabajadores de la Educación) with 1,673,623 members (Redacción UNIÓN, 2018), function in the Mexican education system. I will draw from an analysis by a professor of education at the Universidad Nacional Autónoma de México, Carlos Ornelas, on the corporatist structures of the SNTE, as well as a brief history. Then, I will delineate how the SNTE controls the vital apparatuses of education in practice and examine other powers of the SNTE from my interview with Professor Norma Vélez, the upper secondary school principal at the Universidad Cuauhtémoc Guadalajara.</p>
<p>Britannica defines corporatism as the “theory and practice of organizing the whole of society into corporate entities subordinate to the state” (Corporatism, 2014). Practiced in fascist authoritarian regimes like the infamous Nazi Germany and Mussolini’s Italy, a corporatist regime creates institutions or organizations that categorize people under the power of an organ. The corporatist ideology in Latin America harkens back to the colonialist era which also practiced a similar dynamic of the mother country creating puppet institutions overseas. These corporatist structures are given a monopolistic authority over the representation of those under the organs’ jurisdiction. The organs are subordinate to the regime and act for it by following its orders and suppressing the dissenting opinions of its constituents. In return, the state can grant certain privileges to the constituents of the corporatist organ in exchange for more privileges to the oligarchical council that leads the organ and minimal supervision of the organ operations. The corporatist ideology is the foundation from which the SNTE was structured and contextualizes all of its interactions.</p>
<section id="snte-history" class="level2">
<h2 class="anchored" data-anchor-id="snte-history">SNTE History</h2>
<p>By understanding the corporatist ideology that created the SNTE, the SNTE’s history can be seen to be a complicated evolution of an interplay between the regime and a power-hungry organ. During the presidency of Lázaro Cárdenas in the late 1930s, corporatist structures began to be erected out of unions. President Cárdenas consolidated many problematic and important unions like farmers, industrial workers, and other sectors into a national union with oligarchical leaders appointed by the one-party state. Approximately 700 different teachers were able to fend off pressure to consolidate until 1944, when President Ávila Camacho signed an executive order to force the unions to become the SNTE (Ornelas, 2008, p.&nbsp;450). Public school teachers were obliged to be part of the union which bestowed upon the leaders of the SNTE a monopoly on the representation of educators, as they were the only legitimate interlocutor with the state on education.</p>
<p>Until the 1970s, there was a lack of oversight of SNTE operations, which catalyzed the process of what Ornelas describes as the SNTE colonization of the SEP (Secretaría de Educación Pública), the Mexican department of education. SEP was a federally centralized organization and the leaders who partnered with the SNTE had the support of the major monopoly of education advocacy which allowed these leaders to be successful in the SEP. Before long, the SEP and SNTE had become close partners in its leadership which expanded the SNTE’s influence further (Ornelas, 2008, Colonización y contienda).</p>
<p>The presidencies of Echeverria, Lopez Portillo, and Miguel de Madrid in the 1970s and early 1980s seemed to weaken the increasingly autonomous SNTE’s influence on the SEP. A decentralized SEP would be more difficult to control than a highly centralized SEP with a small congregation of people; this was an outrage for the SNTE (Ornelas, 2008, pp.&nbsp;454-5).</p>
<p>The presidency of Salinas de Gortari brought many changes to the regime and SNTE relations. In 1989, he kicked out the SNTE leader Carlos Jonguitud Barrios, a PRI member who was accused of corruption in his fifteen years as SNTE leader, to realign the SNTE with the regime (Ornelas, 2008, p.&nbsp;455). He replaced him with another PRI member, the now infamous Elba Esther Gordillo (first in Forbes 10 Most Corrupt Mexican of 2013). Gordillo would be in power for twenty-four years and would oversee numerous changes to the way the SNTE would work with the regime. In 1992, Gordillo conceded to the Acuerdo par la modernization de Educación Básica, which would apply federalism to the SNTE organization in exchange for benefits for teachers and more political authority in the system. Morelos also explained that it had implicit agreements as well, the continuation of colonization of the SEP with the firing of the SEP leader Barlett Díaz who impeded the SNTE’s colonization efforts (Ornelas, 2008, p.&nbsp;456).</p>
<p>Until the PAN President, Vicente Fox, in 2000, the PRI had been the dominant figure in the federal government and exclusively in the executive. It was a complicated question whether the SNTE, as a corporatist structure, would continue to function by allying with different political parties. The answer was yes. According to Ornelas, the SNTE was a convenient tool for the PAN to use as newcomers to controlling the executive branch. Vicente Fox and Felipe Calderon were close allies with Gordillo as they lacked oversight of the SNTE and in exchange, Gordillo helped them with support for his legitimacy and policies that would look good for the public like the 2002 Compromiso Social por la Calidad de la Educación which declared that each educational actor should do their part (Ornelas, 2008, La Verdadera Nueva Alianza). This period secured the SNTE as not necessarily a PRI organ but an organ that can be used by any political leader who wishes to play the game, allowing the SNTE to operate in exchange for their political help.</p>
<p>Although the PRI had created the SNTE as a corporatist organ for its regime after the PAN years, the SNTE has grown in sufficient autonomy that it can switch parties to ally with or across parties. With the return to PRI presidents in 2012, President Peña tried to undercut many of the freedom and lack of oversight of the SNTE with teacher exams for incompetent teachers but failed to pass the reforms after the teacher union protest (Usi, 2019). With the 2018 election of the MORENA president Lopez Obrador there was again a return to the pleasing of the SNTE with the abolition of the INEE (Instituto Nacional para la Evaluación de la Educación that independently evaluated school performances) and also did not create teacher exams that could identify the worst teachers.</p>
</section>
<section id="snte-power-dynamics" class="level2">
<h2 class="anchored" data-anchor-id="snte-power-dynamics">SNTE Power Dynamics</h2>
<p>After this brief history that contextualizes the SNTE, we can now examine how it has influenced policy-making in Mexico. In Congress, the committee on education CDE (Comisión de Educación), in both the chamber of deputies and the senate, is in charge of educational policy by acting as the “gatekeepers’’ to passing initiatives (Santibáñez, 2008, p.&nbsp;427). Therefore this committee has the power to push forward or stall different educational initiatives, which means control of it is influential for the rest of the educational apparatuses. In three out of four legislative terms from 1997 to 2009, 50% of the CDE mesa directiva (committee leaders) in the chamber of deputies had an affiliation with the SNTE (Figure 1). There is a notable influence on the CDE from the SNTE that leads to further expansion of the SNTE power of the educational apparatuses. The budget committee also influences the education budget, which is why SNTE has seen it as imperative to control it. From 2006 to 2009, the Senate CDE was led by SNTE leader, Gordillo’s daughter, Mónica Tzasna Arriola Gordillo, as one of the directors of the committee. As a consequence of their immense power, real teacher salaries in Mexico increased between 34-40% in Mexico between 1996 and 2004, which is the second highest teacher salary increase among OECD members behind Hungary (Santibáñez, 2008, 421). These wage gains return to the SNTE with union dues that prop up the union financially. This has allowed the SNTE to pocket some of the money, as was shown by the corruption charges filed against Gordillo that accused her of embezzling $200 million dollars (Estevez, 2014).</p>
<p><strong>Figure 1</strong> <em>CDE (Comisión de Educación) Members Who Are Associated With the SNTE</em></p>
<table class="caption-top table" data-quarto-postprocess="true" data-border="1">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th rowspan="2" style="text-align: left;" data-quarto-table-cell-role="th">Chamber</th>
<th colspan="4" style="text-align: left;" data-quarto-table-cell-role="th">Legislature</th>
</tr>
<tr class="odd">
<th style="text-align: left;" data-quarto-table-cell-role="th">LVII (%)<br>
1997-2000</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">LVIII (%)<br>
2000-2003</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">LVIX (%)<br>
2003-2006</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">LVX (%)<br>
2006-2009</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="5" style="text-align: left; font-weight: bold;">Chamber of Deputies</td>
</tr>
<tr class="even">
<td style="text-align: left;"><em>Mesa directiva</em> (directors of CDE) affiliated with SNTE</td>
<td style="text-align: left;">2 (50)</td>
<td style="text-align: left;">4 (80)</td>
<td style="text-align: left;">3 (43)</td>
<td style="text-align: left;">7 (58)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">All CDE members affiliated with SNTE (including <em>mesa directiva</em>)</td>
<td style="text-align: left;">10 (38)</td>
<td style="text-align: left;">8 (36)</td>
<td style="text-align: left;">6 (26)</td>
<td style="text-align: left;">12 (40)</td>
</tr>
<tr class="even">
<td colspan="5" style="text-align: left; font-weight: bold;">Senate</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><em>Mesa directiva</em> (directors of CDE) affiliated with SNTE</td>
<td style="text-align: left;">2 (50)</td>
<td style="text-align: left;">0 (0)</td>
<td style="text-align: left;">1 (33)</td>
<td style="text-align: left;">1 (33)</td>
</tr>
<tr class="even">
<td style="text-align: left;">All CDE members affiliated with SNTE (including <em>mesa directiva</em>)</td>
<td style="text-align: left;">3 (23)</td>
<td style="text-align: left;">2 (17)</td>
<td style="text-align: left;">1 (8)</td>
<td style="text-align: left;">2 (28)</td>
</tr>
</tbody>
</table>
<p><small><em>Note.</em> Adapted translated version of Lucrecia Santibáñez Figure 1 in her 2008 investigation <em>Reforma Educativa: El Papel del SNTE</em> (Santibáñez, 2008, p.&nbsp;428). The following is a translation of Santibáñez notes: A person is considered a member of the SNTE when: their profile indicates they are an active member of the SNTE, when they hold or have held an administrative position in the CEN of the SNTE or in the sectional committees. In the event the CVs are not detailed, it is assumed the person is active in the SNTE, when they have served as a supervisor or director of basic education schools, have held an administrative position (e.g.&nbsp;director or academic secretary) of a normal school or the UPN or when its only reference is that it lists basic education teacher as an occupation. Source: Own elaboration based on the curricula vitae of deputies, provided by the Education Commission of the Chamber of Deputies and information contained in who is who in Congress (Mexico, 1999). For the LIX Legislature, information was used from www.monitorlegislativo.org.</small></p>
<p>The SNTE has an explicit goal to lobby for teacher benefits, and its implicit goal is to prop its oligarchs and friends up with a vast hold of educational apparatuses. They carry out their goal by creating close alliances and revolving doors between themselves, educational policymakers, and SEP leaders, according to my interview with Professor Velez (N. Velez, personal communication, November 30, 2022). They have vast control over the educational system with no intention to support the educational opposite. Even a 2006 poll showed 41% of basic (elementary) school teachers say the SNTE helps teachers but does little to advance educational quality. However, I argue that because the SNTE has both massive control over educational apparatuses and no obligation to educational quality, the SNTE is at best a roadblock to educational quality and at worst actively working against it to avoid needing to worry about educational quality. Strikes have become a political tool for SNTE goals as well, which have come at the expense of educational quality. Santibañez discusses the SNTE Section 22 strike in Oaxaca in 2006 which exemplifies the strikes as a political weapon (2008, p.&nbsp;423). Teachers went on strike for better wages, but even after this plea was granted, the strike continued as a means for initiating the resignation of the governor of Oaxaca. The strike lasted for more than five months and meant students lost almost an entire semester. SNTE has immense power in the educational system, which they are willing to use for political gain at the expense of educational quality. In my research, there were holes regarding specific SNTE operations, so to understand more explicit and implicit powers of the SNTE, I interviewed Professor Norma Vélez, the upper secondary school principal at the Universidad Cuauhtémoc Guadalajara, who has twenty years of experience in education, including sixteen years as a principal. To become a public school teacher, candidates must join the union first. The SNTE administers the examen de oposición (qualification test) to the candidates and then selects teachers. Professor Velez explains it is an open secret that prospective teachers with friends in the SNTE or with a bribe, can pass the test, as the SNTE has no real incentive to quality education (N. Velez, personal communication, November 30, 2022). A form where this dynamic has worked is in the French department of education, which operates under a similarly centralized system that hires teachers at a national level and then “appoints” them to particular schools. It would be understandable for the department of education to have control of these appointments because a department of education, like in the France example, has an obligation to better education (Cornu, 2015, p.&nbsp;290).The SNTE does not have oversight or an incentive to promote quality education, which is why it is unreasonable for the SNTE to have the power to create and administer a qualification test and send teachers to schools. Desirable teacher appointments–those close to home or in urban areas–are those most likely to be given to teachers with friends in the SNTE or with a bribe while undesirable teacher appoints–those in rural–poor, or dangerous areas are many times given to good teachers without these friends who go to these schools only to be burned out. Schools then feel that they do not have control of who their teachers are as seen in Figure 2.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="yourusername/yourrepository" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024 Kevin Valdivia. Except where otherwise noted, all text and images licensed CC-BY-NC 4.0.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>